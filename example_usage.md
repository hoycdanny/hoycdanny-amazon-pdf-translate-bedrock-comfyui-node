# 使用示例 - OCR 圖片翻譯功能

## 🖼️ 第一頁圖片翻譯問題解決

### 問題描述
之前版本中，如果PDF的第一頁主要是圖片內容（如封面、圖表等），這些內容不會被翻譯，因為只提取了純文字。

### 解決方案
v4.2+ 版本新增了智能OCR功能，能夠：

1. **自動檢測** - 當頁面文字少於50字符時自動啟用OCR
2. **雙引擎支持** - 優先使用AWS Textract，備用Tesseract
3. **多語言識別** - 支持中英文混合內容
4. **高精度處理** - 2倍放大提高識別準確度

### 使用流程

```
📄 PDF頁面
    ↓
🔍 文字提取 (PDFPlumber)
    ↓
❓ 文字是否充足？
    ↓ (否，<50字符)
🖼️ 啟用OCR模式
    ↓
☁️ 嘗試AWS Textract
    ↓ (失敗時)
💻 回退到Tesseract
    ↓
📝 提取的文字進入翻譯流程
```

### 實際效果

**之前 (v4.1):**
```
第1頁: [跳過 - 沒有文字]
第2頁: 翻譯內容...
第3頁: 翻譯內容...
```

**現在 (v4.2+):**
```
第1頁: [OCR識別] 封面標題和圖表文字 → 翻譯
第2頁: 翻譯內容...
第3頁: 翻譯內容...
```

### 日誌示例

```
📄 Processing page 1...
🖼️ Page 1 has little text, trying OCR...
🔍 AWS Textract extracted 156 characters from page 1
🤖 AI analyzing page 1 content...
🌐 Translating page 1
✅ Page 1 translated
```

### 配置建議

1. **AWS Textract權限** (推薦)
   - 更高的識別準確度
   - 支持複雜版面
   - 自動語言檢測

2. **Tesseract本地OCR** (備用)
   - 無需網絡連接
   - 免費使用
   - 需要安裝語言包

### 故障排除

**問題1: OCR沒有啟動**
- 檢查頁面是否真的缺少文字
- 確認依賴已正確安裝

**問題2: AWS Textract失敗**
- 檢查AWS憑證配置
- 確認Textract服務權限
- 查看是否有區域限制

**問題3: Tesseract識別不準確**
- 確認已安裝中文語言包
- 檢查PDF圖片質量
- 考慮使用AWS Textract

### 性能優化

- OCR只在必要時啟用（文字<50字符）
- 圖片2倍放大提高識別率
- 智能回退機制確保可靠性
- 結果緩存避免重複處理
